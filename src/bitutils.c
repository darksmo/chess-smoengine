#include "bitutils.h"

U64 _mask_rank(unsigned int n)
{
    return 0xFFULL << 0x8 * n;
}
U64 _clear_file(unsigned int n)
{
    return ~_mask_file(n);
}
U64 _clear_rank(unsigned int n)
{
   return ~_mask_rank(n);
}
U64 _mask_file(unsigned int n)
{
   return 0x101010101010101ULL << n;
}
U64 _mask_cell(unsigned int file, unsigned int rank)
{
    return _mask_file(file) & _mask_rank(rank);
}

U64 _bit_reverse[] = {
    0x0ULL, 0x1ULL, 0x2ULL, 0x3ULL, 0x4ULL, 0x5ULL, 0x6ULL, 0x7ULL, 
    0x8ULL, 0x9ULL, 0xaULL, 0xbULL, 0xcULL, 0xdULL, 0xeULL, 0xfULL, 
    0x10ULL, 0x11ULL, 0x12ULL, 0x13ULL, 0x14ULL, 0x15ULL, 0x16ULL, 0x17ULL, 
    0x18ULL, 0x19ULL, 0x1aULL, 0x1bULL, 0x1cULL, 0x1dULL, 0x1eULL, 0x1fULL, 
    0x20ULL, 0x21ULL, 0x22ULL, 0x23ULL, 0x24ULL, 0x25ULL, 0x26ULL, 0x27ULL, 
    0x28ULL, 0x29ULL, 0x2aULL, 0x2bULL, 0x2cULL, 0x2dULL, 0x2eULL, 0x2fULL, 
    0x30ULL, 0x31ULL, 0x32ULL, 0x33ULL, 0x34ULL, 0x35ULL, 0x36ULL, 0x37ULL, 
    0x38ULL, 0x39ULL, 0x3aULL, 0x3bULL, 0x3cULL, 0x3dULL, 0x3eULL, 0x3fULL, 
    0x40ULL, 0x41ULL, 0x42ULL, 0x43ULL, 0x44ULL, 0x45ULL, 0x46ULL, 0x47ULL, 
    0x48ULL, 0x49ULL, 0x4aULL, 0x4bULL, 0x4cULL, 0x4dULL, 0x4eULL, 0x4fULL, 
    0x50ULL, 0x51ULL, 0x52ULL, 0x53ULL, 0x54ULL, 0x55ULL, 0x56ULL, 0x57ULL, 
    0x58ULL, 0x59ULL, 0x5aULL, 0x5bULL, 0x5cULL, 0x5dULL, 0x5eULL, 0x5fULL, 
    0x60ULL, 0x61ULL, 0x62ULL, 0x63ULL, 0x64ULL, 0x65ULL, 0x66ULL, 0x67ULL, 
    0x68ULL, 0x69ULL, 0x6aULL, 0x6bULL, 0x6cULL, 0x6dULL, 0x6eULL, 0x6fULL, 
    0x70ULL, 0x71ULL, 0x72ULL, 0x73ULL, 0x74ULL, 0x75ULL, 0x76ULL, 0x77ULL, 
    0x78ULL, 0x79ULL, 0x7aULL, 0x7bULL, 0x7cULL, 0x7dULL, 0x7eULL, 0x7fULL, 
    0x80ULL, 0x81ULL, 0x82ULL, 0x83ULL, 0x84ULL, 0x85ULL, 0x86ULL, 0x87ULL, 
    0x88ULL, 0x89ULL, 0x8aULL, 0x8bULL, 0x8cULL, 0x8dULL, 0x8eULL, 0x8fULL, 
    0x90ULL, 0x91ULL, 0x92ULL, 0x93ULL, 0x94ULL, 0x95ULL, 0x96ULL, 0x97ULL, 
    0x98ULL, 0x99ULL, 0x9aULL, 0x9bULL, 0x9cULL, 0x9dULL, 0x9eULL, 0x9fULL, 
    0xa0ULL, 0xa1ULL, 0xa2ULL, 0xa3ULL, 0xa4ULL, 0xa5ULL, 0xa6ULL, 0xa7ULL, 
    0xa8ULL, 0xa9ULL, 0xaaULL, 0xabULL, 0xacULL, 0xadULL, 0xaeULL, 0xafULL, 
    0xb0ULL, 0xb1ULL, 0xb2ULL, 0xb3ULL, 0xb4ULL, 0xb5ULL, 0xb6ULL, 0xb7ULL, 
    0xb8ULL, 0xb9ULL, 0xbaULL, 0xbbULL, 0xbcULL, 0xbdULL, 0xbeULL, 0xbfULL, 
    0xc0ULL, 0xc1ULL, 0xc2ULL, 0xc3ULL, 0xc4ULL, 0xc5ULL, 0xc6ULL, 0xc7ULL, 
    0xc8ULL, 0xc9ULL, 0xcaULL, 0xcbULL, 0xccULL, 0xcdULL, 0xceULL, 0xcfULL, 
    0xd0ULL, 0xd1ULL, 0xd2ULL, 0xd3ULL, 0xd4ULL, 0xd5ULL, 0xd6ULL, 0xd7ULL, 
    0xd8ULL, 0xd9ULL, 0xdaULL, 0xdbULL, 0xdcULL, 0xddULL, 0xdeULL, 0xdfULL, 
    0xe0ULL, 0xe1ULL, 0xe2ULL, 0xe3ULL, 0xe4ULL, 0xe5ULL, 0xe6ULL, 0xe7ULL, 
    0xe8ULL, 0xe9ULL, 0xeaULL, 0xebULL, 0xecULL, 0xedULL, 0xeeULL, 0xefULL, 
    0xf0ULL, 0xf1ULL, 0xf2ULL, 0xf3ULL, 0xf4ULL, 0xf5ULL, 0xf6ULL, 0xf7ULL, 
    0xf8ULL, 0xf9ULL, 0xfaULL, 0xfbULL, 0xfcULL, 0xfdULL, 0xfeULL, 0xffULL
};
